(this.webpackJsonpjreacttheme=this.webpackJsonpjreacttheme||[]).push([[0],{212:function(e,t,a){e.exports=a(437)},217:function(e,t,a){},368:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),s=a.n(o),i=(a(217),a(447)),c=a(33),l=a(43),u=a(140),p=a(192),m=a(71),d={GET_POSTS:"GET_POSTS",GET_POST:"GET_POST",CREATE_POST:"CREATE_POST",CREATE_POST_PENDING:"CREATE_POST_PENDING",CLEAR_DATA:"CLEAR_DATA"};function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={GET_USERS:"GET_USERS",GET_USER:"GET_USER",CLEAR_ALL_DATA:"CLEAR_ALL_DATA",LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_FAILURE:"LOGIN_FAILURE",LOGIN_SUCCESS:"LOGIN_SUCCESS",CLEAR_ERROR_DATA:"CLEAR_ERROR_DATA",REGISTER_USER_REQUEST:"REGISTER_USER_REQUEST",REGISTER_USER_FAILURE:"REGISTER_USER_FAILURE",REGISTER_USER_SUCCESS:"REGISTER_USER_SUCCESS",REGISTER_CLEAR_ERROR_DATA:"REGISTER_CLEAR_ERROR_DATA"};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=Object(l.combineReducers)({postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,posts:{},create_post:{loading:!1,status:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GET_POSTS:return f({},e,{loading:!1,posts:t.data});case d.CREATE_POST:return f({},e,{create_post:{loading:!1,status:t.status}});case d.CREATE_POST_PENDING:return f({},e,{create_post:{loading:!0,status:null}});case d.CLEAR_DATA:return f({},e,{loading:!0,posts:{}});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:{loading:!0,data:{}},user:{loading:!0,data:{},error:""},register:{loading:!0,register_status:!1,error:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.GET_USERS:return b({},e,{users:{loading:!1,data:t.data}});case g.LOGIN_REQUEST:return b({},e,{user:{loading:!0,data:{},error:""}});case g.LOGIN_FAILURE:return b({},e,{user:{loading:!1,error:t.error,data:{}}});case g.LOGIN_SUCCESS:return b({},e,{user:{loading:!1,data:t.user,error:""}});case g.CLEAR_ERROR_DATA:return b({},e,{user:{loading:!1,error:"",data:{}}});case g.REGISTER_USER_REQUEST:return b({},e,{register:{loading:!0,register_status:!1,error:""}});case g.REGISTER_USER_FAILURE:return b({},e,{register:{loading:!1,register_status:!1,error:t.error}});case g.REGISTER_USER_SUCCESS:return b({},e,{register:{loading:!1,register_status:!0,error:""}});case g.REGISTER_CLEAR_ERROR_DATA:return b({},e,{register:{loading:!1,register_status:!1,error:""}});case g.CLEAR_ALL_DATA:return b({},e,{users:{loading:!0,data:{}},user:{loading:!0,data:{},error:{}}});default:return e}}}),v=a(193),O="wp-back-end.herokuapp.com",S=!0,_=Object(p.createLogger)(),R=S?Object(l.createStore)(y,Object(v.composeWithDevTools)(Object(l.applyMiddleware)(u.a,_))):Object(l.createStore)(y,Object(l.applyMiddleware)(u.a)),k=a(23),T=a(24),j=a(26),w=a(25),I=a(27),C=a(438),A=a(445),x=a(9),P=a(45),D=Object(P.a)(),U=A.a.SubMenu,L=function(e){function t(e){return Object(k.a)(this,t),Object(j.a)(this,Object(w.a)(t).call(this,e))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"handleClick",value:function(e){"login"==e.key?D.push("/login"):D.push("/register")}},{key:"handleLogout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("userData"),window.location.href="/home"}},{key:"handleToCreatePost",value:function(){D.push("/create-post")}},{key:"showName",value:function(){return JSON.parse(localStorage.getItem("userData")).name}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,localStorage.getItem("token")?n.a.createElement(A.a,{theme:"dark",style:{lineHeight:"64px",textAlign:"right"},mode:"horizontal"},n.a.createElement(U,{style:{textAlign:"right"},onTitleClick:this.handleToLogin,title:n.a.createElement("span",{className:"submenu-title-wrapper"},n.a.createElement(x.a,{type:"user"}),"Xin ch\xe0o, ",this.showName())},n.a.createElement(A.a.Item,{onClick:this.handleToCreatePost.bind(this),key:"user:1"},"T\u1ea1o post"),n.a.createElement(A.a.Item,{key:"user:2"},"Th\xf4ng tin c\xe1 nh\xe2n"),n.a.createElement(A.a.Item,{onClick:this.handleLogout.bind(this),key:"user:3"},"\u0110\u0103ng xu\u1ea5t"))):n.a.createElement(A.a,{theme:"dark",onClick:this.handleClick,style:{lineHeight:"64px",textAlign:"right"},mode:"horizontal"},n.a.createElement(A.a.Item,{key:"login",style:{textAlign:"right"}},n.a.createElement("span",{className:"submenu-title-wrapper"},n.a.createElement(x.a,{type:"user"}),"\u0110\u0103ng nh\u1eadp")),n.a.createElement(A.a.Item,{key:"register"},n.a.createElement("span",{className:"submenu-title-wrapper"},n.a.createElement(x.a,{type:"user-add"}),"\u0110\u0103ng k\xfd"))))}}]),t}(n.a.Component),G=a(15),N=a.n(G),F=a(28),V=a(443),M=a(75),q=a(37),Q=a(440),B=a(439),z=a(448),H=a(441),J=a(112),Y=a.n(J),Z=Y.a.create({baseURL:"https://".concat(O),timeout:5e3});Z.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+localStorage.getItem("token")),e}),(function(e){return Promise.reject(e)})),Z.interceptors.response.use((function(e){if(200==e.status)return e.data;localStorage.removeItem("token"),localStorage.removeItem("userData"),window.location.href="/home"}),(function(e){return Promise.reject(e.message)}));var W=Z,X={getPosts:function(e){return e?W.post("/post/view/"+e):W.post("/post/view/1")},getPost:function(e){return W.post("/post/view/"+e)},createPost:function(e,t,a,r){return W.post("/post/create",{title:e,summary:t,content:a,tag:r})}};var K={getInfoPosts:function(e){return function(t){X.getPosts(e).then((function(e){t({type:d.GET_POSTS,data:e.posts})}))}},resetInfo:function(){return function(e){e({type:d.CLEAR_DATA})}},createPost:function(e,t,a,r){return function(n){n({type:d.CREATE_POST_PENDING}),X.createPost(e,t,a,r).then((function(e){e.post_created?n({type:d.CREATE_POST,status:!0}):n({type:d.CREATE_POST,status:!1})})).catch((function(e){n({type:d.CREATE_POST,status:!1})}))}}};var $={getUsers:function(){return W.post("/users/all")},login:function(e,t){var a={email:e,password:t};return W.post("/users/login",a)},register:function(e,t,a){var r={email:e,password:t,name:a};return W.post("/users",r)}};var ee={getUsers:function(){return function(e){$.getUsers().then((function(t){e({type:g.GET_USERS,data:t.users})}))}},login:function(e){function t(e){return{type:g.LOGIN_SUCCESS,user:e}}return function(a){a({type:g.LOGIN_REQUEST}),$.login(e.email,e.password).then(function(){var e=Object(F.a)(N.a.mark((function e(r){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{name:r.user.name,email:r.user.email};case 2:return n=e.sent,e.next=5,a(t(n));case 5:return e.next=7,localStorage.setItem("token",r.token);case 7:return e.next=9,localStorage.setItem("userData",JSON.stringify(n));case 9:window.location.href="/home";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t;a((t="T\xe0i kho\u1ea3n v\xe0 m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang",{type:g.LOGIN_FAILURE,error:t}))}))}},clear_error:function(){return function(e){e({type:g.CLEAR_ERROR_DATA})}},register:function(e){return function(t){t({type:g.REGISTER_USER_REQUEST}),$.register(e.email,e.password,e.name).then(function(){var e=Object(F.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!==typeof a.token&&a.token&&(t({type:g.REGISTER_USER_SUCCESS}),window.location.href="/login");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var a;t((a="T\u1ea1o t\xe0i kho\u1ea3n th\u1ea5t b\u1ea1i",{type:g.REGISTER_USER_FAILURE,error:a}))}))}},clear_error_register:function(){return function(e){e({type:g.REGISTER_CLEAR_ERROR_DATA})}}};var te=a(199),ae=a.n(te),re=a(200),ne=V.a.Panel,oe=function(e){function t(e){return Object(k.a)(this,t),Object(j.a)(this,Object(w.a)(t).call(this,e))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"loadPosts",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.dispatch,e.next=3,a(K.getInfoPosts(t));case 3:return e.next=5,a(ee.getUsers());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangePage",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.props.dispatch)(K.resetInfo()),a(K.getInfoPosts(t)),D.push("/home/view/"+t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load_author_name",value:function(e){var t=this.props.state.userReducer,a=Object(re.find)(t.users.data,{_id:e});return a.name+" - "+a.email}},{key:"componentDidMount",value:function(){var e=this.props.match.params.page;this.loadPosts(e),document.title="Trang ch\u1ee7 | Zigvy blog app | page "+e}},{key:"render",value:function(){var e=this,t=this.props.state,a=t.postReducer,r=t.userReducer;return n.a.createElement("div",{style:{marginTop:"50px"}},a.loading||r.users.loadding?n.a.createElement(M.a,{gutter:[0,32]},n.a.createElement(q.a,{span:24},n.a.createElement(Q.a,{title:"...",bordered:!1,loading:!0}))):a.posts.posts.length>0?n.a.createElement(n.a.Fragment,null,a.posts.posts.map((function(t,r){return n.a.createElement(M.a,{key:r,gutter:[0,32]},n.a.createElement(q.a,{span:24},n.a.createElement(Q.a,{title:t.title+" - created at: "+ae()(t.createAt).format("Do MMMM YYYY")+" - author: "+e.load_author_name(t.owner),bordered:!1,loading:a.loading,type:"inner"},t.summary," ",n.a.createElement(B.a,null),"Tag : ",t.tag.map((function(e,t){return n.a.createElement(z.a,{key:t,color:e},e)})),n.a.createElement(B.a,null),n.a.createElement(V.a,{accordion:!0,bordered:!1},n.a.createElement(ne,{header:"Comment",key:"1"},n.a.createElement("p",null,"Comments goes here"))))))})),n.a.createElement(M.a,{gutter:[0,32]},n.a.createElement(q.a,{span:24,style:{textAlign:"center"}},n.a.createElement(H.a,{defaultCurrent:a.posts.current,total:a.posts.total,pageSize:2,onChange:this.onChangePage.bind(this)})))):n.a.createElement(M.a,{gutter:[0,32]},n.a.createElement(q.a,{span:24},n.a.createElement(Q.a,{title:"No item",bordered:!1}))))}}]),t}(n.a.Component);var se=Object(i.e)(Object(c.b)((function(e){return{state:e}}))(oe)),ie=function(e){function t(){return Object(k.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/home/view/:page",component:se}),n.a.createElement(i.a,{from:"/home",to:"/home/view/1"}))}}]),t}(n.a.Component),ce=Object(i.e)(ie),le=a(446),ue=a(442),pe=a(444),me=a(145);var de=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).handleSubmit=function(e){a.setState({login_button_disabled:!0}),e.preventDefault(),a.props.form.validateFields((function(e,t){e||(a.props.form.resetFields(),a.handleLogin(t)),a.setState({login_button_disabled:!1})}))},a.state={login_button_disabled:!1},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){document.title="\u0110\u0103ng nh\u1eadp | Zigvy blog app",this.props.form.validateFields()}},{key:"openNotification",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props;case 2:return a=e.sent,r=a.dispatch,e.next=6,le.a.open({message:"\u0110\u0103ng nh\u1eadp",description:t,duration:5});case 6:return e.next=8,r(ee.clear_error());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleLogin",value:function(e){(0,this.props.dispatch)(ee.login(e))}},{key:"componentDidUpdate",value:function(){if(!this.props.state.userReducer.user.loading){var e=this.props.state.userReducer.user;"undefined"!==typeof e.error&&e.error&&""!==e.error&&this.openNotification(e.error)}}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,r=t.getFieldsError,o=t.getFieldError,s=t.isFieldTouched,i=s("email")&&o("email"),c=s("password")&&o("password");return n.a.createElement(M.a,{type:"flex",justify:"space-around",align:"middle",style:{marginTop:"5%"}},n.a.createElement(q.a,{span:8,style:{textAlign:"center"}},n.a.createElement("h2",{style:{marginBottom:"5%"}},"\u0110\u0103ng nh\u1eadp"),n.a.createElement(ue.a,{onSubmit:this.handleSubmit},n.a.createElement(ue.a.Item,{validateStatus:i?"error":"",help:i||""},a("email",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"}]})(n.a.createElement(pe.a,{type:"email",prefix:n.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),n.a.createElement(ue.a.Item,{validateStatus:c?"error":"",help:c||""},a("password",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"},{min:7,message:"M\u1eadt kh\u1ea9u ph\u1ea3i h\u01a1n 7 k\xfd t\u1ef1"}]})(n.a.createElement(pe.a,{prefix:n.a.createElement(x.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),n.a.createElement(ue.a.Item,null,n.a.createElement(me.a,Object(m.a)({type:"primary",disabled:this.props.state.userReducer.user.loading||this.state.login_button_disabled,htmlType:"submit"},"disabled",(e=r(),Object.keys(e).some((function(t){return e[t]})))),"\u0110\u0103ng nh\u1eadp")))))}}]),t}(n.a.Component),he=ue.a.create({name:"horizontal_login"})(de);var fe=Object(i.e)(Object(c.b)((function(e){return{state:e}}))(he));var ge=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||a.handleRegister(t)}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,r){var n=a.props.form;t&&t!==n.getFieldValue("password")?r("M\u1eadt kh\u1ea9u b\u1ea1n nh\u1eadp kh\xf4ng kh\u1edbp, vui l\xf2ng ki\u1ec3m tra"):r()},a.validateToNextPassword=function(e,t,r){var n=a.props.form;t&&a.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),r()},a.state={confirmDirty:!1},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){document.title="\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n | Zigvy blog app",this.props.form.validateFields()}},{key:"handleRegister",value:function(e){var t=this.props.dispatch;this.props.form.resetFields(),t(ee.register(e))}},{key:"openNotification",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props;case 2:return a=e.sent,r=a.dispatch,e.next=6,le.a.open({message:"\u0110\u0103ng k\xfd",description:t,duration:5});case 6:return e.next=8,r(ee.clear_error_register());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){if(!this.props.state.userReducer.register.loading){var e=this.props.state.userReducer.register;"undefined"!==typeof e.error&&e.error&&""!==e.error&&this.openNotification(e.error)}}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,r=t.getFieldsError,o=t.getFieldError,s=t.isFieldTouched,i=s("email")&&o("email"),c=s("password")&&o("password"),l=s("conf_password")&&o("conf_password"),u=s("name")&&o("name");return n.a.createElement(M.a,{type:"flex",justify:"space-around",align:"middle",style:{marginTop:"5%"}},n.a.createElement(q.a,{span:8,style:{textAlign:"center"}},n.a.createElement("h2",{style:{marginBottom:"5%"}},"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"),n.a.createElement(ue.a,{onSubmit:this.handleSubmit},n.a.createElement(ue.a.Item,{validateStatus:i?"error":"",help:i||""},a("email",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"}]})(n.a.createElement(pe.a,{type:"email",prefix:n.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),n.a.createElement(ue.a.Item,{validateStatus:c?"error":"",help:c||""},a("password",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u!"},{min:7,message:"M\u1eadt kh\u1ea9u ph\u1ea3i h\u01a1n 7 k\xfd t\u1ef1"},{validator:this.validateToNextPassword}]})(n.a.createElement(pe.a.Password,{prefix:n.a.createElement(x.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),n.a.createElement(ue.a.Item,{validateStatus:l?"error":"",help:l||""},a("conf_password",{rules:[{required:!0,message:"Vui l\xf2ng x\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(pe.a.Password,{prefix:n.a.createElement(x.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),n.a.createElement(ue.a.Item,{validateStatus:u?"error":"",help:u||""},a("name",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean!"}]})(n.a.createElement(pe.a,{prefix:n.a.createElement(x.a,{type:"idcard",style:{color:"rgba(0,0,0,.25)"}}),type:"text",placeholder:"Name"}))),n.a.createElement(ue.a.Item,null,n.a.createElement(me.a,{type:"primary",htmlType:"submit",disabled:(e=r(),Object.keys(e).some((function(t){return e[t]})))},"\u0110\u0103ng k\xfd")))))}}]),t}(n.a.Component),Ee=ue.a.create({name:"horizontal_register"})(ge);var be=Object(i.e)(Object(c.b)((function(e){return{state:e}}))(Ee)),ye=[{path:"home",name:"Trang ch\u1ee7",layout:"/",component:ce,invisible:!1}],ve=(a(368),a(208)),Oe=a(207),Se=a(206),_e=a.n(Se),Re=(a(436),pe.a.TextArea);var ke=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).modules={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},a.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||a.handleCreatePost(t)}))},a.handleClose=function(){var e=Object(F.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.tags.filter((function(e){return e!==t})),e.next=3,a.setState({tags:r});case 3:return e.next=5,a.check();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=Object(F.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.inputValue,r=a.state.tags,t&&-1===r.indexOf(t)&&(r=[].concat(Object(ve.a)(r),[t])),e.next=5,a.setState({tags:r,inputVisible:!1,inputValue:""});case 5:return e.next=7,a.check();case 7:case"end":return e.stop()}}),e)}))),a.saveInputRef=function(e){return a.input=e},a.state={tags:[],inputVisible:!1,inputValue:"",content:"",submit_disabled:!0},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){document.title="T\u1ea1o b\xe0i post | Zigvy blog app",this.props.form.validateFields()}},{key:"openNotification",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props;case 2:return a=e.sent,a.dispatch,e.next=6,le.a.open({message:"T\u1ea1o b\xe0i vi\u1ebft",description:t,duration:5});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCreatePost",value:function(){var e=Object(F.a)(N.a.mark((function e(t){var a,r,n,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.dispatch,e.next=3,this.props.form.resetFields();case 3:return e.next=5,this.state;case 5:return r=e.sent,n=r.content,o=r.tags,e.next=10,this.setState({submit_disabled:!0});case 10:return e.next=12,a(K.createPost(t.title,t.summary,n,o));case 12:return e.next=14,this.setState({tags:[],inputVisible:!1,inputValue:"",content:""});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeQuill",value:function(e){this.setState({content:e}),this.check()}},{key:"check",value:function(){-1!==this.state.content.indexOf("<p><br></p>")||""==this.state.content||Array.isArray(this.state.tags)&&this.state.tags.length<1?this.setState({submit_disabled:!0}):this.setState({submit_disabled:!1})}},{key:"componentDidUpdate",value:function(){var e=this.props.state.postReducer.create_post;e.loading||null!==e.status&&(e.status?this.openNotification("T\u1ea1o b\xe0i vi\u1ebft th\xe0nh c\xf4ng"):this.openNotification("T\u1ea1o b\xe0i vi\u1ebft th\u1ea5t b\u1ea1i"))}},{key:"render",value:function(){var e,t=this,a=this.props.form,r=a.getFieldDecorator,o=a.getFieldsError,s=a.getFieldError,i=a.isFieldTouched,c=this.state,l=c.tags,u=c.inputVisible,p=c.inputValue,m=i("title")&&s("title"),d=i("summary")&&s("summary");return n.a.createElement(Q.a,null,n.a.createElement(M.a,{type:"flex",justify:"space-around",align:"middle",style:{marginTop:"5%"}},n.a.createElement(q.a,{span:8,style:{textAlign:"center"}},n.a.createElement("h2",{style:{marginBottom:"5%"}},"T\u1ea1o b\xe0i vi\u1ebft"),n.a.createElement(ue.a,{onSubmit:this.handleSubmit},n.a.createElement(ue.a.Item,{validateStatus:m?"error":"",help:m||""},r("title",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1"}]})(n.a.createElement(pe.a,{prefix:n.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Ti\xeau \u0111\u1ec1",type:"text"}))),n.a.createElement(ue.a.Item,{validateStatus:d?"error":"",help:d||""},r("summary",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp n\u1ed9i dung t\xf3m t\u1eaft"}]})(n.a.createElement(Re,{rows:4,placeholder:"N\u1ed9i dung t\xf3m t\u1eaft"}))),n.a.createElement(ue.a.Item,{label:"N\u1ed9i dung: "},n.a.createElement(_e.a,{value:this.state.content,onChange:function(e){return t.handleChangeQuill(e)},modules:this.modules,formats:this.formats})),n.a.createElement(ue.a.Item,{label:"Th\u1ebb: "},l.map((function(e,a){var r=e.length>20,o=n.a.createElement(z.a,{key:e,closable:!0,onClose:function(){return t.handleClose(e)}},r?"".concat(e.slice(0,20),"..."):e);return r?n.a.createElement(Oe.a,{title:e,key:e},o):o})),u&&n.a.createElement(pe.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:p,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!u&&n.a.createElement(z.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(x.a,{type:"plus"})," New Tag")),n.a.createElement(ue.a.Item,null,n.a.createElement(me.a,{type:"primary",htmlType:"submit",disabled:(e=o(),Object.keys(e).some((function(t){return e[t]}))||this.state.submit_disabled)},"T\u1ea1o b\xe0i vi\u1ebft"))))))}}]),t}(n.a.Component),Te=ue.a.create({name:"horizontal_create_post"})(ke);var je=Object(i.e)(Object(c.b)((function(e){return{state:e}}))(Te)),we=function(e){function t(){return Object(k.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return n.a.createElement(je,null)}}]),t}(n.a.Component),Ie=Object(i.e)(we),Ce=a(146);Y.a.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("userData"),window.location.href="/home")}));var Ae=function(e){var t=e.component,a=Object(Ce.a)(e,["component"]);return n.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?n.a.createElement(i.a,{to:{pathname:"/home",state:{from:e.location}}}):n.a.createElement(t,e)}}))},xe=C.a.Header,Pe=C.a.Footer,De=C.a.Content,Ue=n.a.createElement(i.d,null,ye.map((function(e,t){if("/"===e.layout&&!e.invisible)return n.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:t})})),n.a.createElement(Ae,{path:"/login",component:fe}),n.a.createElement(Ae,{path:"/register",component:be}),n.a.createElement((function(e){var t=e.component,a=Object(Ce.a)(e,["component"]);return n.a.createElement(i.b,Object.assign({},a,{render:function(e){return"undefined"===typeof localStorage.getItem("token")||localStorage.getItem("token")?n.a.createElement(t,e):n.a.createElement(i.a,{to:{pathname:"/home",state:{from:e.location}}})}}))}),{path:"/create-post",component:Ie}),n.a.createElement(i.a,{from:"/",to:"/home"})),Le=function(e){function t(e){return Object(k.a)(this,t),Object(j.a)(this,Object(w.a)(t).call(this,e))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"handleClick",value:function(){window.location.href="/home"}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.a,null,n.a.createElement(xe,null,n.a.createElement("div",{className:"logo",onClick:this.handleClick.bind(this)}),n.a.createElement(L,null)),n.a.createElement(De,null,Ue),n.a.createElement(Pe,{style:{textAlign:"center"}},"@Copyright by Tran Duong Minh Hai")))}}]),t}(n.a.Component);var Ge=Object(i.e)(Object(c.b)((function(e){return{state:e}}))(Le));var Ne=function(){return n.a.createElement(c.a,{store:R},n.a.createElement(i.c,{history:D},n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/",component:Ge}))))};s.a.render(n.a.createElement(Ne,null),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.chunk.js.map